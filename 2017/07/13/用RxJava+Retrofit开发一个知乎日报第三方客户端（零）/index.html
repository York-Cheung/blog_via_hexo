<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="æ•™ç¨‹,å®‰å“,Java,Android,RxJava,Retrofit,API," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta name="description" content="å‰è¨€æœ¬ç¯‡åšå®¢åˆ†ä¸ºå‡ éƒ¨åˆ†ï¼Œä¸»è¦è®°å½•å¦‚ä½•ä½¿ç”¨ç¬¬å·¥å…·åº“RxJava2å’ŒRetrofit2ä»é›¶å¼€å§‹å¼€å‘ä¸€ä¸ªAndroid Webåº”ç”¨â€”â€”ä¸€ä¸ªçŸ¥ä¹æ—¥æŠ¥ç¬¬ä¸‰æ–¹å®¢æˆ·ç«¯ã€‚åšä¸»æœ€è¿‘æ‰å¼€å§‹æ¥è§¦åˆ°RxJavaå’ŒRetrofitè¿™å¯¹ç¥å™¨ï¼Œä¹Ÿè·Ÿé£äº†ä¸€æŠŠï¼ˆè™½ç„¶å·²ç»ç«å¾ˆä¹…äº†ğŸŒšï¼‰ï¼Œä¸‹é¢ä¸»è¦å†™å†™å¯¹è¿™ä¸¤ä¸ªå¼€å‘ç¥å™¨çš„ç†è§£ã€‚ æ¬¢è¿è¯»è€…æ‹ç –ã€‚ å“åº”å¼ç¼–ç¨‹ç®€ä»‹  å“åº”å¼ç¼–ç¨‹æ˜¯ä¸€ç§åŸºäºå¼‚æ­¥æ•°æ®æµæ¦‚å¿µçš„ç¼–ç¨‹æ¨¡å¼ã€‚æ•°æ®æµå°±åƒä¸€æ¡æ²³ï¼šå®ƒå¯ä»¥è¢«è§‚æµ‹">
<meta name="keywords" content="æ•™ç¨‹,å®‰å“,Java,Android,RxJava,Retrofit,API">
<meta property="og:type" content="article">
<meta property="og:title" content="ç”¨RxJava+Retrofitå¼€å‘ä¸€ä¸ªçŸ¥ä¹æ—¥æŠ¥ç¬¬ä¸‰æ–¹å®¢æˆ·ç«¯ï¼ˆé›¶ï¼‰">
<meta property="og:url" content="http://yorksonchang.com/2017/07/13/ç”¨RxJava+Retrofitå¼€å‘ä¸€ä¸ªçŸ¥ä¹æ—¥æŠ¥ç¬¬ä¸‰æ–¹å®¢æˆ·ç«¯ï¼ˆé›¶ï¼‰/index.html">
<meta property="og:site_name" content="Yorkson&#39;s Blog">
<meta property="og:description" content="å‰è¨€æœ¬ç¯‡åšå®¢åˆ†ä¸ºå‡ éƒ¨åˆ†ï¼Œä¸»è¦è®°å½•å¦‚ä½•ä½¿ç”¨ç¬¬å·¥å…·åº“RxJava2å’ŒRetrofit2ä»é›¶å¼€å§‹å¼€å‘ä¸€ä¸ªAndroid Webåº”ç”¨â€”â€”ä¸€ä¸ªçŸ¥ä¹æ—¥æŠ¥ç¬¬ä¸‰æ–¹å®¢æˆ·ç«¯ã€‚åšä¸»æœ€è¿‘æ‰å¼€å§‹æ¥è§¦åˆ°RxJavaå’ŒRetrofitè¿™å¯¹ç¥å™¨ï¼Œä¹Ÿè·Ÿé£äº†ä¸€æŠŠï¼ˆè™½ç„¶å·²ç»ç«å¾ˆä¹…äº†ğŸŒšï¼‰ï¼Œä¸‹é¢ä¸»è¦å†™å†™å¯¹è¿™ä¸¤ä¸ªå¼€å‘ç¥å™¨çš„ç†è§£ã€‚ æ¬¢è¿è¯»è€…æ‹ç –ã€‚ å“åº”å¼ç¼–ç¨‹ç®€ä»‹  å“åº”å¼ç¼–ç¨‹æ˜¯ä¸€ç§åŸºäºå¼‚æ­¥æ•°æ®æµæ¦‚å¿µçš„ç¼–ç¨‹æ¨¡å¼ã€‚æ•°æ®æµå°±åƒä¸€æ¡æ²³ï¼šå®ƒå¯ä»¥è¢«è§‚æµ‹">
<meta property="og:image" content="http://yorksonchang.com/2017/07/13/ç”¨RxJava+Retrofitå¼€å‘ä¸€ä¸ªçŸ¥ä¹æ—¥æŠ¥ç¬¬ä¸‰æ–¹å®¢æˆ·ç«¯ï¼ˆé›¶ï¼‰/Observer1.jpg">
<meta property="og:image" content="http://yorksonchang.com/2017/07/13/ç”¨RxJava+Retrofitå¼€å‘ä¸€ä¸ªçŸ¥ä¹æ—¥æŠ¥ç¬¬ä¸‰æ–¹å®¢æˆ·ç«¯ï¼ˆé›¶ï¼‰/Observer2.jpg">
<meta property="og:image" content="http://yorksonchang.com/2017/07/13/ç”¨RxJava+Retrofitå¼€å‘ä¸€ä¸ªçŸ¥ä¹æ—¥æŠ¥ç¬¬ä¸‰æ–¹å®¢æˆ·ç«¯ï¼ˆé›¶ï¼‰/Observe.gif">
<meta property="og:image" content="http://yorksonchang.com/2017/07/13/ç”¨RxJava+Retrofitå¼€å‘ä¸€ä¸ªçŸ¥ä¹æ—¥æŠ¥ç¬¬ä¸‰æ–¹å®¢æˆ·ç«¯ï¼ˆé›¶ï¼‰/for_example.jpg">
<meta property="og:updated_time" content="2017-08-14T09:21:24.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ç”¨RxJava+Retrofitå¼€å‘ä¸€ä¸ªçŸ¥ä¹æ—¥æŠ¥ç¬¬ä¸‰æ–¹å®¢æˆ·ç«¯ï¼ˆé›¶ï¼‰">
<meta name="twitter:description" content="å‰è¨€æœ¬ç¯‡åšå®¢åˆ†ä¸ºå‡ éƒ¨åˆ†ï¼Œä¸»è¦è®°å½•å¦‚ä½•ä½¿ç”¨ç¬¬å·¥å…·åº“RxJava2å’ŒRetrofit2ä»é›¶å¼€å§‹å¼€å‘ä¸€ä¸ªAndroid Webåº”ç”¨â€”â€”ä¸€ä¸ªçŸ¥ä¹æ—¥æŠ¥ç¬¬ä¸‰æ–¹å®¢æˆ·ç«¯ã€‚åšä¸»æœ€è¿‘æ‰å¼€å§‹æ¥è§¦åˆ°RxJavaå’ŒRetrofitè¿™å¯¹ç¥å™¨ï¼Œä¹Ÿè·Ÿé£äº†ä¸€æŠŠï¼ˆè™½ç„¶å·²ç»ç«å¾ˆä¹…äº†ğŸŒšï¼‰ï¼Œä¸‹é¢ä¸»è¦å†™å†™å¯¹è¿™ä¸¤ä¸ªå¼€å‘ç¥å™¨çš„ç†è§£ã€‚ æ¬¢è¿è¯»è€…æ‹ç –ã€‚ å“åº”å¼ç¼–ç¨‹ç®€ä»‹  å“åº”å¼ç¼–ç¨‹æ˜¯ä¸€ç§åŸºäºå¼‚æ­¥æ•°æ®æµæ¦‚å¿µçš„ç¼–ç¨‹æ¨¡å¼ã€‚æ•°æ®æµå°±åƒä¸€æ¡æ²³ï¼šå®ƒå¯ä»¥è¢«è§‚æµ‹">
<meta name="twitter:image" content="http://yorksonchang.com/2017/07/13/ç”¨RxJava+Retrofitå¼€å‘ä¸€ä¸ªçŸ¥ä¹æ—¥æŠ¥ç¬¬ä¸‰æ–¹å®¢æˆ·ç«¯ï¼ˆé›¶ï¼‰/Observer1.jpg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yorksonchang.com/2017/07/13/ç”¨RxJava+Retrofitå¼€å‘ä¸€ä¸ªçŸ¥ä¹æ—¥æŠ¥ç¬¬ä¸‰æ–¹å®¢æˆ·ç«¯ï¼ˆé›¶ï¼‰/"/>





  <title>ç”¨RxJava+Retrofitå¼€å‘ä¸€ä¸ªçŸ¥ä¹æ—¥æŠ¥ç¬¬ä¸‰æ–¹å®¢æˆ·ç«¯ï¼ˆé›¶ï¼‰ | Yorkson's Blog</title><!-- hexo-inject:begin --><!-- hexo-inject:end -->
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Yorkson's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            å…³äº
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            æ ‡ç­¾
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yorksonchang.com/2017/07/13/ç”¨RxJava+Retrofitå¼€å‘ä¸€ä¸ªçŸ¥ä¹æ—¥æŠ¥ç¬¬ä¸‰æ–¹å®¢æˆ·ç«¯ï¼ˆé›¶ï¼‰/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yorkson">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yorkson's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">ç”¨RxJava+Retrofitå¼€å‘ä¸€ä¸ªçŸ¥ä¹æ—¥æŠ¥ç¬¬ä¸‰æ–¹å®¢æˆ·ç«¯ï¼ˆé›¶ï¼‰</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-07-13T17:07:08+08:00">
                2017-07-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/æ•™ç¨‹/" itemprop="url" rel="index">
                    <span itemprop="name">æ•™ç¨‹</span>
                  </a>
                </span>

                
                
                  ï¼Œ 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/æ•™ç¨‹/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
                  ï¼Œ 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/æ•™ç¨‹/Java/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv"><i class="fa fa-eye"></i>
            <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>
            </span>
          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  2,529
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  10
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>æœ¬ç¯‡åšå®¢åˆ†ä¸ºå‡ éƒ¨åˆ†ï¼Œä¸»è¦è®°å½•å¦‚ä½•ä½¿ç”¨ç¬¬å·¥å…·åº“RxJava2å’ŒRetrofit2ä»é›¶å¼€å§‹å¼€å‘ä¸€ä¸ªAndroid Webåº”ç”¨â€”â€”ä¸€ä¸ªçŸ¥ä¹æ—¥æŠ¥ç¬¬ä¸‰æ–¹å®¢æˆ·ç«¯ã€‚åšä¸»æœ€è¿‘æ‰å¼€å§‹æ¥è§¦åˆ°RxJavaå’ŒRetrofitè¿™å¯¹ç¥å™¨ï¼Œä¹Ÿè·Ÿé£äº†ä¸€æŠŠï¼ˆè™½ç„¶å·²ç»ç«å¾ˆä¹…äº†ğŸŒšï¼‰ï¼Œä¸‹é¢ä¸»è¦å†™å†™å¯¹è¿™ä¸¤ä¸ªå¼€å‘ç¥å™¨çš„ç†è§£ã€‚</p>
<p>æ¬¢è¿è¯»è€…æ‹ç –ã€‚</p>
<h2 id="å“åº”å¼ç¼–ç¨‹ç®€ä»‹"><a href="#å“åº”å¼ç¼–ç¨‹ç®€ä»‹" class="headerlink" title="å“åº”å¼ç¼–ç¨‹ç®€ä»‹"></a>å“åº”å¼ç¼–ç¨‹ç®€ä»‹</h2><blockquote>
<ul>
<li>å“åº”å¼ç¼–ç¨‹æ˜¯ä¸€ç§åŸºäºå¼‚æ­¥æ•°æ®æµæ¦‚å¿µçš„ç¼–ç¨‹æ¨¡å¼ã€‚æ•°æ®æµå°±åƒä¸€æ¡æ²³ï¼šå®ƒå¯ä»¥è¢«è§‚æµ‹ï¼Œè¢«è¿‡æ»¤ï¼Œè¢«æ“ä½œï¼Œæˆ–è€…ä¸ºæ–°çš„æ¶ˆè´¹è€…ä¸å¦å¤–ä¸€æ¡æµåˆå¹¶ä¸ºä¸€æ¡æ–°çš„æµã€‚</li>
<li>å“åº”å¼ç¼–ç¨‹çš„ä¸€ä¸ªå…³é”®æ¦‚å¿µæ˜¯äº‹ä»¶ã€‚äº‹ä»¶å¯ä»¥è¢«ç­‰å¾…ï¼Œå¯ä»¥è§¦å‘è¿‡ç¨‹ï¼Œä¹Ÿå¯ä»¥è§¦å‘å…¶å®ƒäº‹ä»¶ã€‚äº‹ä»¶æ˜¯å”¯ä¸€çš„ä»¥åˆé€‚çš„æ–¹å¼å°†æˆ‘ä»¬çš„ç°å®ä¸–ç•Œæ˜ å°„åˆ°æˆ‘ä»¬çš„è½¯ä»¶ä¸­ï¼šå¦‚æœå±‹é‡Œå¤ªçƒ­äº†æˆ‘ä»¬å°±æ‰“å¼€ä¸€æ‰‡çª—æˆ·ã€‚åŒæ ·çš„ï¼Œå½“æˆ‘ä»¬æ›´æ”¹ç”µå­è¡¨ï¼ˆå˜åŒ–çš„ä¼ æ’­ï¼‰ä¸­çš„ä¸€äº›æ•°å€¼æ—¶ï¼Œæˆ‘ä»¬éœ€è¦æ›´æ–°æ•´ä¸ªè¡¨æ ¼æˆ–è€…æˆ‘ä»¬çš„æœºå™¨äººç¢°åˆ°å¢™æ—¶ä¼šè½¬å¼¯ï¼ˆå“åº”äº‹ä»¶ï¼‰ã€‚</li>
<li>ä»Šå¤©ï¼Œå“åº”å¼ç¼–ç¨‹æœ€é€šç”¨çš„ä¸€ä¸ªåœºæ™¯æ˜¯UIï¼šæˆ‘ä»¬çš„ç§»åŠ¨Appå¿…é¡»åšå‡ºå¯¹ç½‘ç»œè°ƒç”¨ã€ç”¨æˆ·è§¦æ‘¸è¾“å…¥å’Œç³»ç»Ÿå¼¹æ¡†çš„å“åº”ã€‚åœ¨è¿™ä¸ªä¸–ç•Œä¸Šï¼Œè½¯ä»¶ä¹‹æ‰€ä»¥æ˜¯äº‹ä»¶é©±åŠ¨å¹¶å“åº”çš„æ˜¯å› ä¸ºç°å®ç”Ÿæ´»ä¹Ÿæ˜¯å¦‚æ­¤ã€‚</li>
</ul>
</blockquote>
<p>RxJavaæä¾›äº†ä¸€ç§ä»¥é¢å‘æ—¶åºçš„æ–¹å¼è€ƒè™‘æ•°æ®çš„æœºä¼šï¼šæ‰€æœ‰äº‹æƒ…éƒ½æ˜¯æŒç»­å˜åŒ–çš„ï¼Œæ•°æ®åœ¨æ›´æ–°ï¼Œäº‹ä»¶åœ¨è§¦å‘ï¼Œç„¶åä½ å°±å¯ä»¥åˆ›å»ºäº‹ä»¶å“åº”å¼çš„ã€çµæ´»çš„ã€è¿è¡Œæµç•…çš„Appã€‚</p>
<h2 id="RxJavaä»‹ç»"><a href="#RxJavaä»‹ç»" class="headerlink" title="RxJavaä»‹ç»"></a>RxJavaä»‹ç»</h2><p>ä¸€ä¸ªè¯ï¼š<strong>å¼‚æ­¥</strong>ã€‚</p>
<p>å®ƒæ˜¯ä¸€ä¸ªå®ç°å¼‚æ­¥æ“ä½œçš„åº“ï¼ˆå…³äºå¼‚æ­¥ä¸åŒæ­¥ã€é˜»å¡ã€éé˜»å¡çš„è®¨è®ºè¯·è§<a href="http://www.jianshu.com/p/02f76566fd90" target="_blank" rel="external">æ€æ ·ç†è§£é˜»å¡éé˜»å¡ä¸åŒæ­¥å¼‚æ­¥çš„åŒºåˆ«ï¼Ÿ</a>ï¼‰ï¼Œç‰¹ç‚¹åœ¨äºç®€æ´ï¼ŒAndroidä¸­ç”¨äºå¼‚æ­¥æ“ä½œçš„ç±»æœ‰AsyncTaskã€Handlerç­‰ç­‰ï¼Œä½†éƒ½æ²¡æœ‰RxJavaç®€æ´ã€‚åšä¸»åœ¨å¼€å‘çš„è¿‡ç¨‹ä¸­æ„Ÿè§‰RxJavaå­¦ä¹ èµ·æ¥æ˜¯æœ‰ç‚¹éš¾åº¦çš„ï¼Œå¼€å‘æ•ˆç‡æ–¹é¢å¯èƒ½å› ä¸ºé€»è¾‘è¿˜æ¯”è¾ƒç®€å•ï¼Œå¹¶æ²¡æœ‰å‘æŒ¥å‡ºRxJavaçš„å¨åŠ›ã€‚</p>
<h3 id="RxJava-çš„è§‚å¯Ÿè€…æ¨¡å¼"><a href="#RxJava-çš„è§‚å¯Ÿè€…æ¨¡å¼" class="headerlink" title="RxJava çš„è§‚å¯Ÿè€…æ¨¡å¼"></a>RxJava çš„è§‚å¯Ÿè€…æ¨¡å¼</h3><p>è¦äº†è§£RxJavaçš„ä½¿ç”¨ï¼Œé¦–å…ˆè¦ç†è§£RxJavaä½¿ç”¨çš„<strong>â€œè§‚å¯Ÿè€…æ¨¡å¼â€</strong>ã€‚</p>
<p>ç±»æ¯”äºAndroidä¸­çš„ç‚¹å‡»ç›‘å¬å™¨<code>OnClickListener</code>ï¼Œ<code>View</code> æ˜¯è¢«è§‚å¯Ÿè€…ï¼Œ <code>OnClickListener</code> æ˜¯è§‚å¯Ÿè€…ï¼ŒäºŒè€…é€šè¿‡ <code>setOnClickListener()</code> æ–¹æ³•è¾¾æˆè®¢é˜…å…³ç³»ã€‚</p>
<img src="/2017/07/13/ç”¨RxJava+Retrofitå¼€å‘ä¸€ä¸ªçŸ¥ä¹æ—¥æŠ¥ç¬¬ä¸‰æ–¹å®¢æˆ·ç«¯ï¼ˆé›¶ï¼‰/Observer1.jpg" alt="Observer1.jpg" title="">
<p>å¦‚å›¾æ‰€ç¤ºï¼Œé€šè¿‡ <code>setOnClickListener()</code> æ–¹æ³•ï¼Œ<code>Button</code> æŒæœ‰ <code>OnClickListener</code> çš„å¼•ç”¨ï¼ˆè¿™ä¸€è¿‡ç¨‹æ²¡æœ‰åœ¨å›¾ä¸Šç”»å‡ºï¼‰ï¼›å½“ç”¨æˆ·ç‚¹å‡»æ—¶ï¼Œ<code>Button</code> è‡ªåŠ¨è°ƒç”¨ <code>OnClickListener</code> çš„ <code>onClick()</code> æ–¹æ³•ã€‚å¦å¤–ï¼Œå¦‚æœæŠŠè¿™å¼ å›¾ä¸­çš„æ¦‚å¿µæŠ½è±¡å‡ºæ¥ï¼ˆ<code>Button</code> -&gt; è¢«è§‚å¯Ÿè€…ã€<code>OnClickListener</code> -&gt; è§‚å¯Ÿè€…ã€<code>setOnClickListener()</code> -&gt; è®¢é˜…ï¼Œ<code>onClick()</code> -&gt; äº‹ä»¶ï¼‰ï¼Œå°±ç”±ä¸“ç”¨çš„è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆä¾‹å¦‚åªç”¨äºç›‘å¬æ§ä»¶ç‚¹å‡»ï¼‰è½¬å˜æˆäº†é€šç”¨çš„è§‚å¯Ÿè€…æ¨¡å¼ã€‚å¦‚ä¸‹å›¾ï¼š</p>
<img src="/2017/07/13/ç”¨RxJava+Retrofitå¼€å‘ä¸€ä¸ªçŸ¥ä¹æ—¥æŠ¥ç¬¬ä¸‰æ–¹å®¢æˆ·ç«¯ï¼ˆé›¶ï¼‰/Observer2.jpg" alt="Observer2.jpg" title="">
<p>RxJava æœ‰å››ä¸ªåŸºæœ¬æ¦‚å¿µï¼š</p>
<ul>
<li><code>Observable</code> (å¯è§‚å¯Ÿè€…ï¼Œå³è¢«è§‚å¯Ÿè€…)</li>
<li><code>Observer</code> (è§‚å¯Ÿè€…)</li>
<li><code>Subscribe</code> (è®¢é˜…)</li>
<li><code>Event</code>(äº‹ä»¶)</li>
</ul>
<p><code>Observable</code> å’Œ <code>Observer</code> é€šè¿‡ <code>subscribe()</code> æ–¹æ³•å®ç°è®¢é˜…å…³ç³»ï¼Œä»è€Œ <code>Observable</code> å¯ä»¥åœ¨éœ€è¦çš„æ—¶å€™å‘å‡º<code>äº‹ä»¶</code>æ¥é€šçŸ¥ <code>Observer</code>ã€‚RxJavaä¸­äº‹ä»¶å›è°ƒæ–¹æ³•é™¤äº†æ™®é€šäº‹ä»¶<code>onNext()</code> ï¼Œè¿˜æœ‰ä¸¤ä¸ªç‰¹æ®Šäº‹ä»¶<code>onCompleted()</code>å’Œ<code>onError()</code>ï¼Œåˆ†åˆ«ç”¨äºå¤„ç†äº‹ä»¶é˜Ÿåˆ—å®Œç»“å’Œäº‹ä»¶é˜Ÿåˆ—å¼‚å¸¸ã€‚</p>
<p>RxJavaçš„è§‚å¯Ÿè€…æ¨¡å¼å›¾è§£å¦‚ä¸‹ï¼š</p>
<img src="/2017/07/13/ç”¨RxJava+Retrofitå¼€å‘ä¸€ä¸ªçŸ¥ä¹æ—¥æŠ¥ç¬¬ä¸‰æ–¹å®¢æˆ·ç«¯ï¼ˆé›¶ï¼‰/Observe.gif" alt="Observe.gif" title="">
<h3 id="RxJavaçš„åŸºæœ¬ç”¨æ³•"><a href="#RxJavaçš„åŸºæœ¬ç”¨æ³•" class="headerlink" title="RxJavaçš„åŸºæœ¬ç”¨æ³•"></a>RxJavaçš„åŸºæœ¬ç”¨æ³•</h3><p>æ­£å¦‚æŠŠå¤§è±¡ ğŸ˜ æ”¾è¿›å†°ç®±é‡Œä¸€æ ·ç®€å•ï¼Œåªéœ€ä¸‰æ­¥ï¼šæ‰“å¼€å†°ç®±é—¨ï¼ŒæŠŠå¤§è±¡æ”¾è¿›å»ï¼Œå…³ä¸Šå†°ç®±é—¨ã€‚</p>
<p>åœ¨å·¥ç¨‹é‡Œä½¿ç”¨RxJavaä¹Ÿåªéœ€ä¸‰æ­¥ï¼šåˆ›å»ºè¢«è§‚å¯Ÿè€…<code>Observalbe</code>ï¼Œåˆ›å»ºè§‚å¯Ÿè€…<code>Observer</code>ï¼Œç”¨<code>subscribe()</code>æ–¹æ³•æŠŠè¿™ä¸¤è€…è”ç»“èµ·æ¥ã€‚</p>
<img src="/2017/07/13/ç”¨RxJava+Retrofitå¼€å‘ä¸€ä¸ªçŸ¥ä¹æ—¥æŠ¥ç¬¬ä¸‰æ–¹å®¢æˆ·ç«¯ï¼ˆé›¶ï¼‰/for_example.jpg" alt="for_example.jpg" title="">
<p>0ï¼‰å¯¼å…¥RxJava2åˆ°Javaé¡¹ç›®</p>
<p>åšä¸»ä½¿ç”¨Gradleæ¥è¿›è¡Œé¡¹ç›®ç¬¬ä¸‰æ–¹åŒ…ç®¡ç†ï¼Œæ‰“å¼€IntelliJ IDEAé€‰æ‹©æ–°å»ºGradleé¡¹ç›®å°±è¡Œäº†ã€‚åœ¨build.gradleæ–‡ä»¶çš„dependenciesä¸­æ·»åŠ <code>compile group: &#39;io.reactivex.rxjava2&#39;, name: &#39;rxjava&#39;, version: &#39;2.1.1&#39;</code>ç„¶åç‚¹å‡»Gradle projectsé¢æ¿å·¦ä¸Šè§’çš„åˆ·æ–°æŒ‰é’®ï¼Œå¼€å§‹gradle buildã€‚</p>
<p>1ï¼‰åˆ›å»ºè¢«è§‚å¯Ÿè€…</p>
<p>è¦åˆ›å»ºObservableï¼Œä½ å¯ä»¥æ‰‹åŠ¨å®ç°Observableçš„è¡Œä¸ºï¼Œä¹Ÿå¯ä»¥ä¼ é€’ä¸€ä¸ªå‡½æ•°ç»™<a href="https://mcxiaoke.gitbooks.io/rxdocs/content/operators/Create.html" target="_blank" rel="external"><code>create(â€¯)</code></a>ï¼Œè¿˜å¯ä»¥ä½¿ç”¨è¿™      äº› <a href="https://mcxiaoke.gitbooks.io/rxdocs/content/operators/Creating-Observables.html" target="_blank" rel="external">åˆ›å»ºæ“ä½œç¬¦</a> å°†ä¸€ä¸ªå·²æœ‰çš„æ•°æ®ç»“æ„è½¬æ¢ä¸ºObservableã€‚ä¸‹é¢ä»£ç è°ƒç”¨Observable.create( )å‡½æ•°åˆ›å»ºä¸€ä¸ªè¢«è§‚å¯Ÿè€…ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">Observable&lt;String&gt; myObservable = Observable.create(  </div><div class="line">    <span class="keyword">new</span> Observable.OnSubscribe&lt;String&gt;() &#123;  </div><div class="line">        <span class="meta">@Override</span>  </div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">call</span><span class="params">(Subscriber&lt;? <span class="keyword">super</span> String&gt; sub)</span> </span>&#123;  </div><div class="line">            sub.onNext(<span class="string">"Hello, world!"</span>);  </div><div class="line">            sub.onCompleted();  </div><div class="line">        &#125;  </div><div class="line">    &#125;  </div><div class="line">);</div></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°ï¼Œè¿™é‡Œä¼ å…¥äº†ä¸€ä¸ª <code>OnSubscribe</code> å¯¹è±¡ä½œä¸ºå‚æ•°ã€‚<code>OnSubscribe</code> ä¼šè¢«å­˜å‚¨åœ¨è¿”å›çš„ <code>Observable</code> å¯¹è±¡ä¸­ï¼Œå®ƒçš„ä½œç”¨ç›¸å½“äºä¸€ä¸ªè®¡åˆ’è¡¨ï¼Œå½“ <code>Observable</code> è¢«è®¢é˜…çš„æ—¶å€™ï¼Œ<code>OnSubscribe</code> çš„ <code>call()</code> æ–¹æ³•ä¼šè‡ªåŠ¨è¢«è°ƒç”¨ï¼Œäº‹ä»¶åºåˆ—å°±ä¼šä¾ç…§è®¾å®šä¾æ¬¡è§¦å‘ï¼ˆå¯¹äºä¸Šé¢çš„ä»£ç ï¼Œå°±æ˜¯è§‚å¯Ÿè€…<code>Subscriber</code> å°†ä¼šè¢«è°ƒç”¨ä¸€æ¬¡ <code>onNext()</code> å’Œä¸€æ¬¡ <code>onCompleted()</code>ï¼‰ã€‚è¿™æ ·ï¼Œç”±è¢«è§‚å¯Ÿè€…è°ƒç”¨äº†è§‚å¯Ÿè€…çš„å›è°ƒæ–¹æ³•ï¼Œå°±å®ç°äº†ç”±è¢«è§‚å¯Ÿè€…å‘è§‚å¯Ÿè€…çš„äº‹ä»¶ä¼ é€’ï¼Œå³è§‚å¯Ÿè€…æ¨¡å¼ã€‚è¿™é‡Œå®šä¹‰çš„Observableå¯¹è±¡ä»…ä»…å‘å‡ºä¸€ä¸ªâ€Hello, world!â€å­—ç¬¦ä¸²ï¼Œç„¶åå°±æ²¡æœ‰ç„¶åäº†ã€‚</p>
<p>2ï¼‰åˆ›å»ºè§‚å¯Ÿè€…</p>
<p>æˆ‘ä»¬æ¥ç€åˆ›å»ºä¸€ä¸ªè§‚å¯Ÿè€…Subscriberæ¥å¤„ç†è¢«è§‚å¯Ÿè€…<code>myObservable</code>å‘å‡ºçš„å­—ç¬¦ä¸²ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">Subscriber&lt;String&gt; mySubscriber = <span class="keyword">new</span> Subscriber&lt;String&gt;() &#123;  </div><div class="line">    <span class="meta">@Override</span>  </div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onNext</span><span class="params">(String s)</span> </span>&#123; System.out.println(s); &#125;  </div><div class="line">  </div><div class="line">    <span class="meta">@Override</span>  </div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCompleted</span><span class="params">()</span> </span>&#123; &#125;  </div><div class="line">  </div><div class="line">    <span class="meta">@Override</span>  </div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onError</span><span class="params">(Throwable e)</span> </span>&#123; &#125;  </div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>3ï¼‰è®¢é˜…</p>
<p>åˆ›å»ºäº† <code>Observable</code> å’Œ <code>Subscriber</code> ä¹‹åï¼Œå†ç”¨ <code>subscribe()</code> æ–¹æ³•å°†å®ƒä»¬è”ç»“èµ·æ¥ï¼Œæ•´æ¡é“¾å­å°±å¯ä»¥å·¥ä½œäº†ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">myObservable.subscribe(mySubscriber);</div></pre></td></tr></table></figure>
<p>æ³¨æ„è¿™é‡Œæ˜¯è¢«è§‚å¯Ÿè€…<code>myObservable</code>â€œè®¢é˜…â€äº†è§‚å¯Ÿè€…<code>mySubscriber</code>ï¼Œå’Œå®é™…ç›¸åã€‚</p>
<p><code>subscriber()</code>æ–¹æ³•åšäº†3ä»¶äº‹ï¼š</p>
<ol>
<li>è°ƒç”¨ <code>Subscriber.onStart()</code> ã€‚è¿™æ˜¯ä¸€ä¸ªSubscriberå¯é€‰çš„å‡†å¤‡æ–¹æ³•ã€‚</li>
<li>è°ƒç”¨ <code>Observable</code> ä¸­çš„ <code>OnSubscribe.call(Subscriber)</code> ã€‚åœ¨è¿™é‡Œï¼Œäº‹ä»¶å‘é€çš„é€»è¾‘å¼€å§‹è¿è¡Œã€‚ä»è¿™ä¹Ÿå¯ä»¥çœ‹å‡ºï¼Œåœ¨ RxJava ä¸­ï¼Œ <code>Observable</code> å¹¶ä¸æ˜¯åœ¨åˆ›å»ºçš„æ—¶å€™å°±ç«‹å³å¼€å§‹å‘é€äº‹ä»¶ï¼Œè€Œæ˜¯åœ¨å®ƒè¢«è®¢é˜…çš„æ—¶å€™ï¼Œå³å½“ <code>subscribe()</code> æ–¹æ³•æ‰§è¡Œçš„æ—¶å€™ã€‚</li>
<li>å°†ä¼ å…¥çš„ <code>Subscriber</code> ä½œä¸º <code>Subscription</code> è¿”å›ã€‚è¿™æ˜¯ä¸ºäº†æ–¹ä¾¿ <code>unsubscribe()</code>.</li>
</ol>
<p>æ•´ä¸ªè¿‡ç¨‹ä¸­å¯¹è±¡é—´çš„å…³ç³»å¦‚ä¸‹å›¾ï¼š</p>

<p>4ï¼‰ç®€åŒ–ä»£ç </p>
<p>RxJavaæä¾›äº†ä¸€äº›åˆ›å»ºæ“ä½œç¬¦å°†å·²æœ‰çš„æ•°æ®ç»“æ„è½¬æ¢ä¸ºObservableï¼ˆå…·ä½“è§ä¸Šé¢çš„é“¾æ¥ï¼‰ã€‚ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬çš„<code>Observable</code>åªå‘å‡ºäº†ä¸€ä¸ªäº‹ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨<code>just(&quot;Hello, world!&quot;)</code>æ–¹æ³•æ¥åˆ›å»ºå¯¹è±¡ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Observable&lt;String&gt; myObservable = Observable.just(<span class="string">"Hello, world!"</span>);</div></pre></td></tr></table></figure>
<p>æ­¤å¤–ï¼Œåœ¨åˆ›å»ºè§‚å¯Ÿè€…çš„æ—¶å€™æˆ‘ä»¬åªç”¨åˆ°äº†<code>OnNext()</code>æ–¹æ³•ï¼Œé‚£ä¹ˆæ˜¯å¦æœ‰ç®€ä¾¿çš„æ–¹æ³•æ¥å®šä¹‰ä¸€ä¸ªç®€å•ç‰ˆçš„è§‚å¯Ÿè€…å‘¢ï¼Ÿç­”æ¡ˆæ˜¯æœ‰çš„ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>Action1</code>ç±»ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">Action1&lt;String&gt; onNextAction = <span class="keyword">new</span> Action1&lt;String&gt;() &#123;  </div><div class="line">    <span class="meta">@Override</span>  </div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">call</span><span class="params">(String s)</span> </span>&#123;  </div><div class="line">        System.out.println(s);  </div><div class="line">    &#125;  </div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>è¿™æ˜¯å› ä¸ºRxJavaä¸­<code>subscribe()</code> æ”¯æŒä¸å®Œæ•´å®šä¹‰çš„å›è°ƒï¼ŒRxJava ä¼šè‡ªåŠ¨æ ¹æ®å®šä¹‰åˆ›å»ºå‡º <code>Subscriber</code> ã€‚å½¢å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">Action1&lt;String&gt; onNextAction = <span class="keyword">new</span> Action1&lt;String&gt;() &#123;</div><div class="line">    <span class="comment">// onNext()</span></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">call</span><span class="params">(String s)</span> </span>&#123;</div><div class="line">        Log.d(tag, s);</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line">Action1&lt;Throwable&gt; onErrorAction = <span class="keyword">new</span> Action1&lt;Throwable&gt;() &#123;</div><div class="line">    <span class="comment">// onError()</span></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">call</span><span class="params">(Throwable throwable)</span> </span>&#123;</div><div class="line">        <span class="comment">// Error handling</span></div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line">Action0 onCompletedAction = <span class="keyword">new</span> Action0() &#123;</div><div class="line">    <span class="comment">// onCompleted()</span></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">calljf</span><span class="params">()</span> </span>&#123;</div><div class="line">        Log.d(tag, <span class="string">"completed"</span>);</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="comment">// è‡ªåŠ¨åˆ›å»º Subscriber ï¼Œå¹¶ä½¿ç”¨ onNextAction æ¥å®šä¹‰ onNext()</span></div><div class="line">observable.subscribe(onNextAction);</div><div class="line"><span class="comment">// è‡ªåŠ¨åˆ›å»º Subscriber ï¼Œå¹¶ä½¿ç”¨ onNextAction å’Œ onErrorAction æ¥å®šä¹‰ onNext() å’Œ onError()</span></div><div class="line">observable.subscribe(onNextAction, onErrorAction);</div><div class="line"><span class="comment">// è‡ªåŠ¨åˆ›å»º Subscriber ï¼Œå¹¶ä½¿ç”¨ onNextActionã€ onErrorAction å’Œ onCompletedAction æ¥å®šä¹‰ onNext()ã€ onError() å’Œ onCompleted()</span></div><div class="line">observable.subscribe(onNextAction, onErrorAction, onCompletedAction);</div></pre></td></tr></table></figure>
<blockquote>
<p><code>Action0</code> æ˜¯ RxJava çš„ä¸€ä¸ªæ¥å£ï¼Œå®ƒåªæœ‰ä¸€ä¸ªæ–¹æ³• <code>call()</code>ï¼Œè¿™ä¸ªæ–¹æ³•æ˜¯æ— å‚æ— è¿”å›å€¼çš„ï¼›ç”±äº <code>onCompleted()</code> æ–¹æ³•ä¹Ÿæ˜¯æ— å‚æ— è¿”å›å€¼çš„ï¼Œå› æ­¤ <code>Action0</code> å¯ä»¥è¢«å½“æˆä¸€ä¸ªåŒ…è£…å¯¹è±¡ï¼Œå°† <code>onCompleted()</code> çš„å†…å®¹æ‰“åŒ…èµ·æ¥å°†è‡ªå·±ä½œä¸ºä¸€ä¸ªå‚æ•°ä¼ å…¥ <code>subscribe()</code> ä»¥å®ç°ä¸å®Œæ•´å®šä¹‰çš„å›è°ƒã€‚è¿™æ ·å…¶å®ä¹Ÿå¯ä»¥çœ‹åšå°† <code>onCompleted()</code> æ–¹æ³•ä½œä¸ºå‚æ•°ä¼ è¿›äº† <code>subscribe()</code>ï¼Œç›¸å½“äºå…¶ä»–æŸäº›è¯­è¨€ä¸­çš„ã€é—­åŒ…ã€ã€‚ <code>Action1</code> ä¹Ÿæ˜¯ä¸€ä¸ªæ¥å£ï¼Œå®ƒåŒæ ·åªæœ‰ä¸€ä¸ªæ–¹æ³• <code>call(T param)</code>ï¼Œè¿™ä¸ªæ–¹æ³•ä¹Ÿæ— è¿”å›å€¼ï¼Œä½†æœ‰ä¸€ä¸ªå‚æ•°ï¼›ä¸ <code>Action0</code> åŒç†ï¼Œç”±äº <code>onNext(T obj)</code> å’Œ <code>onError(Throwable error)</code> ä¹Ÿæ˜¯å•å‚æ•°æ— è¿”å›å€¼çš„ï¼Œå› æ­¤ <code>Action1</code>å¯ä»¥å°† <code>onNext(obj)</code> å’Œ <code>onError(error)</code> æ‰“åŒ…èµ·æ¥ä¼ å…¥ <code>subscribe()</code> ä»¥å®ç°ä¸å®Œæ•´å®šä¹‰çš„å›è°ƒã€‚äº‹å®ä¸Šï¼Œè™½ç„¶ <code>Action0</code> å’Œ <code>Action1</code>åœ¨ API ä¸­ä½¿ç”¨æœ€å¹¿æ³›ï¼Œä½† RxJava æ˜¯æä¾›äº†å¤šä¸ª <code>ActionX</code> å½¢å¼çš„æ¥å£ (ä¾‹å¦‚ <code>Action2</code>, <code>Action3</code>) çš„ï¼Œå®ƒä»¬å¯ä»¥è¢«ç”¨ä»¥åŒ…è£…ä¸åŒçš„æ— è¿”å›å€¼çš„æ–¹æ³•ã€‚</p>
</blockquote>
<p>åˆ°æ­¤ï¼Œæˆ‘ä»¬çš„ä¾‹å­å¯ä»¥ç®€åŒ–æˆ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">Observable.just(<span class="string">"Hello, world!"</span>)  </div><div class="line">    .subscribe(<span class="keyword">new</span> Action1&lt;String&gt;() &#123;  </div><div class="line">        <span class="meta">@Override</span>  </div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">call</span><span class="params">(String s)</span> </span>&#123;  </div><div class="line">              System.out.println(s);  </div><div class="line">        &#125;  </div><div class="line">    &#125;);</div></pre></td></tr></table></figure>
<p>ä½¿ç”¨Java8çš„lambadaè¡¨è¾¾å¼è¿˜å¯ä»¥ç®€åŒ–æˆ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Observable.just(<span class="string">"Hello, world!"</span>)</div><div class="line">  .subscribe(s -&gt; System.out.println(s));</div></pre></td></tr></table></figure>
<p>è¿è¡Œç¨‹åºå¾—åˆ°è¾“å‡º<code>Hello, world!</code></p>
<h3 id="RxJavaçš„å˜æ¢"><a href="#RxJavaçš„å˜æ¢" class="headerlink" title="RxJavaçš„å˜æ¢"></a>RxJavaçš„å˜æ¢</h3><p>å˜æ¢æ˜¯RxJavaçš„æ ¸å¿ƒåŠŸèƒ½ï¼Œ<strong>æ‰€è°“å˜æ¢ï¼Œå°±æ˜¯å°†äº‹ä»¶åºåˆ—ä¸­çš„å¯¹è±¡æˆ–æ•´ä¸ªåºåˆ—è¿›è¡ŒåŠ å·¥å¤„ç†ï¼Œè½¬æ¢æˆä¸åŒçš„äº‹ä»¶æˆ–äº‹ä»¶åºåˆ—ã€‚</strong>æˆ‘ä»¬ä½¿ç”¨æ“ä½œç¬¦<code>Operators</code>å®ç°è¿™ç§å˜æ¢ã€‚è¿˜æ˜¯ç”¨ä¸Šé¢çš„ä¾‹å­ï¼Œçœ‹ä¸‹é¢çš„ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">Observable.just(<span class="string">"Hello, world!"</span>)</div><div class="line">    .map(<span class="keyword">new</span> Func1&lt;String, Integer&gt;() &#123;</div><div class="line">        <span class="meta">@Override</span></div><div class="line">        <span class="function"><span class="keyword">public</span> Integer <span class="title">call</span><span class="params">(String s)</span> </span>&#123;</div><div class="line">            <span class="keyword">return</span> s.hashCode();</div><div class="line">        &#125;</div><div class="line">    &#125;)</div><div class="line">    .subscribe(i -&gt; System.out.println(Integer.toString(i)));</div></pre></td></tr></table></figure>
<p>åœ¨è¿™é‡Œ<code>Observable</code>ä½¿ç”¨<code>.map()</code>æ“ä½œç¬¦å°†è·å–åˆ°çš„å­—ç¬¦ä¸²è½¬æ¢æˆå®ƒçš„å“ˆå¸Œå€¼ï¼Œå¹¶äº¤ç»™<code>Subscriber</code> æ‰“å°ã€‚æ ¹æ®å“åº”å¼ç¼–ç¨‹çš„æ€æƒ³ï¼Œ<code>Subscriber</code>åº”è¯¥åšçš„äº‹æƒ…ï¼Œæ˜¯å“åº”<code>Observable</code>å‘å‡ºçš„äº‹ä»¶ï¼Œè€Œä¸æ˜¯å»ä¿®æ”¹ï¼Œåœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨æ“ä½œç¬¦åœ¨ä¸¤è€…ä¹‹é—´ä¿®æ”¹Observableå‘å‡ºçš„äº‹ä»¶ã€‚</p>
<blockquote>
<p>è¿™é‡Œå‡ºç°äº†ä¸€ä¸ªå«åš <code>Func1</code> çš„ç±»ã€‚å®ƒå’Œ <code>Action1</code> éå¸¸ç›¸ä¼¼ï¼Œä¹Ÿæ˜¯ RxJava çš„ä¸€ä¸ªæ¥å£ï¼Œç”¨äºåŒ…è£…å«æœ‰ä¸€ä¸ªå‚æ•°çš„æ–¹æ³•ã€‚ <code>Func1</code> å’Œ <code>Action</code> çš„åŒºåˆ«åœ¨äºï¼Œ <code>Func1</code> åŒ…è£…çš„æ˜¯æœ‰è¿”å›å€¼çš„æ–¹æ³•ã€‚å¦å¤–ï¼Œå’Œ <code>ActionX</code> ä¸€æ ·ï¼Œ <code>FuncX</code> ä¹Ÿæœ‰å¤šä¸ªï¼Œç”¨äºä¸åŒå‚æ•°ä¸ªæ•°çš„æ–¹æ³•ã€‚<code>FuncX</code>å’Œ <code>ActionX</code> çš„åŒºåˆ«åœ¨ <code>FuncX</code> åŒ…è£…çš„æ˜¯æœ‰è¿”å›å€¼çš„æ–¹æ³•ã€‚</p>
</blockquote>
<p>ä¸Šé¢çš„ä»£ç è¿˜å¯ä»¥ä½¿ç”¨J8 lambda ç®€åŒ–ï¼Œå¹¶è¿›ä¸€æ­¥å•çº¯åŒ–<code>Subscriber</code>çš„åŠŸèƒ½ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">Observable.just(<span class="string">"Hello, world!"</span>)</div><div class="line">    .map(s -&gt; s.hashCode())</div><div class="line">    .map(i -&gt; Integer.toString(i))</div><div class="line">    .subscribe(s -&gt; System.out.println(s));</div></pre></td></tr></table></figure>
<h2 id="Retrofitä»‹ç»"><a href="#Retrofitä»‹ç»" class="headerlink" title="Retrofitä»‹ç»"></a>Retrofitä»‹ç»</h2><h3 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h3><blockquote>
<p>ç»™ Android å¼€å‘è€…çš„ RxJava è¯¦è§£: <a href="http://gank.io/post/560e15be2dca930e00da1083#toc_14" target="_blank" rel="external">http://gank.io/post/560e15be2dca930e00da1083#toc_14</a></p>
<p>Grokking RxJava(part1, part2, part3): <a href="http://blog.danlew.net/2014/09/15/grokking-rxjava-part-1/" target="_blank" rel="external">http://blog.danlew.net/2014/09/15/grokking-rxjava-part-1/</a></p>
</blockquote>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        
  <ul class="post-copyright">
    <li class="post-copyright-author">
      <strong>æœ¬æ–‡ä½œè€…ï¼š</strong>
      Yorkson
    </li>
    <li class="post-copyright-link">
      <strong>æœ¬æ–‡é“¾æ¥ï¼š</strong>
      <a href="http://yorksonchang.com/2017/07/13/ç”¨RxJava+Retrofitå¼€å‘ä¸€ä¸ªçŸ¥ä¹æ—¥æŠ¥ç¬¬ä¸‰æ–¹å®¢æˆ·ç«¯ï¼ˆé›¶ï¼‰/" title="ç”¨RxJava+Retrofitå¼€å‘ä¸€ä¸ªçŸ¥ä¹æ—¥æŠ¥ç¬¬ä¸‰æ–¹å®¢æˆ·ç«¯ï¼ˆé›¶ï¼‰">http://yorksonchang.com/2017/07/13/ç”¨RxJava+Retrofitå¼€å‘ä¸€ä¸ªçŸ¥ä¹æ—¥æŠ¥ç¬¬ä¸‰æ–¹å®¢æˆ·ç«¯ï¼ˆé›¶ï¼‰/</a>
    </li>
    <li class="post-copyright-license">
      <strong>ç‰ˆæƒå£°æ˜ï¼š </strong>
      æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼
    </li>
  </ul>


      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/æ•™ç¨‹/" rel="tag"># æ•™ç¨‹</a>
          
            <a href="/tags/å®‰å“/" rel="tag"># å®‰å“</a>
          
            <a href="/tags/Java/" rel="tag"># Java</a>
          
            <a href="/tags/Android/" rel="tag"># Android</a>
          
            <a href="/tags/RxJava/" rel="tag"># RxJava</a>
          
            <a href="/tags/Retrofit/" rel="tag"># Retrofit</a>
          
            <a href="/tags/API/" rel="tag"># API</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/05/28/Mac-OS-Xä¸‹å¿«é€Ÿå¤åˆ¶æ–‡ä»¶ï¼æ–‡ä»¶å¤¹è·¯å¾„çš„æ–¹æ³•/" rel="next" title="Mac OS Xä¸‹å¿«é€Ÿå¤åˆ¶æ–‡ä»¶ï¼æ–‡ä»¶å¤¹è·¯å¾„çš„æ–¹æ³•">
                <i class="fa fa-chevron-left"></i> Mac OS Xä¸‹å¿«é€Ÿå¤åˆ¶æ–‡ä»¶ï¼æ–‡ä»¶å¤¹è·¯å¾„çš„æ–¹æ³•
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/07/26/ä½¿ç”¨pyenv + virtualenvç®¡ç†Pythonç‰ˆæœ¬å’ŒPythonåŒ…/" rel="prev" title="ä½¿ç”¨pyenv + virtualenvç®¡ç†Pythonç‰ˆæœ¬å’ŒPythonåŒ…">
                ä½¿ç”¨pyenv + virtualenvç®¡ç†Pythonç‰ˆæœ¬å’ŒPythonåŒ… <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            æ–‡ç« ç›®å½•
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            ç«™ç‚¹æ¦‚è§ˆ
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/avatar.png"
               alt="Yorkson" />
          <p class="site-author-name" itemprop="name">Yorkson</p>
           
              <p class="site-description motion-element" itemprop="description">äººï¼ç”Ÿï¼å°±ï¼æ˜¯ï¼ä¸ï¼åœï¼åœ°ï¼æˆ˜ï¼æ–—ï¼</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">10</span>
                <span class="site-state-item-name">æ—¥å¿—</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">7</span>
                <span class="site-state-item-name">åˆ†ç±»</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">23</span>
                <span class="site-state-item-name">æ ‡ç­¾</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/YorksonChang" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-https://github.com/yorksonchang"></i>
                  
                  GitHub
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#å‰è¨€"><span class="nav-number">1.</span> <span class="nav-text">å‰è¨€</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#å“åº”å¼ç¼–ç¨‹ç®€ä»‹"><span class="nav-number">1.1.</span> <span class="nav-text">å“åº”å¼ç¼–ç¨‹ç®€ä»‹</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#RxJavaä»‹ç»"><span class="nav-number">1.2.</span> <span class="nav-text">RxJavaä»‹ç»</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#RxJava-çš„è§‚å¯Ÿè€…æ¨¡å¼"><span class="nav-number">1.2.1.</span> <span class="nav-text">RxJava çš„è§‚å¯Ÿè€…æ¨¡å¼</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#RxJavaçš„åŸºæœ¬ç”¨æ³•"><span class="nav-number">1.2.2.</span> <span class="nav-text">RxJavaçš„åŸºæœ¬ç”¨æ³•</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#RxJavaçš„å˜æ¢"><span class="nav-number">1.2.3.</span> <span class="nav-text">RxJavaçš„å˜æ¢</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Retrofitä»‹ç»"><span class="nav-number">1.3.</span> <span class="nav-text">Retrofitä»‹ç»</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#å‚è€ƒé“¾æ¥"><span class="nav-number">1.3.1.</span> <span class="nav-text">å‚è€ƒé“¾æ¥</span></a></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Yorkson</span>
</div>


<div class="powered-by">
  ç”± <a class="theme-link" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨
</div>

<div class="theme-info">
  ä¸»é¢˜ -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      
    </span>
  
</div>


        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  





  






  





  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  
  <script type="text/javascript" src="/js/src/js.cookie.js?v=5.1.1"></script>
  <script type="text/javascript" src="/js/src/scroll-cookie.js?v=5.1.1"></script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->


  

</body>
</html>
